name: Sync to Serv00
on:
  push:
    branches:
      - main
    paths:
      - 'users.json'
      - 'config.json'

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v3

      - name: ğŸš€ Sync files to Serv00
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.FTP_SERVER }}
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          # Serv00 á€™á€¾á€¬ public_html á€›á€²á€· á€¡á€›á€¾á€±á€·á€™á€¾á€¬ domain name á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º domains/ á€•á€«á€á€á€ºá€•á€«á€á€šá€º
          # á€¥á€•á€™á€¬- domains/iam404.serv00.net/public_html/404-vpn/
          server-dir: domains/iam404.serv00.net/public_html/404-vpn/
          # local-dir á€€á€­á€¯ ./ á€œá€­á€¯á€·á€•á€² á€‘á€¬á€¸á€•á€« (build folder á€™á€›á€¾á€­á€œá€­á€¯á€·á€•á€«)
          local-dir: ./
          # Serv00 á€¡á€á€½á€€á€º standard ftp á€á€¯á€¶á€¸á€á€¬ á€¡á€€á€±á€¬á€„á€ºá€¸á€†á€¯á€¶á€¸á€•á€«
          protocol: sftp
          port: 22
